<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UGAHacks ‚Äî Particles to G</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        min-height: 400vh;
        background: #0a0e27;
      }
      #c {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: block;
        pointer-events: none;
      }
      .hint {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        color: rgba(255, 255, 255, 0.7);
        font-family: system-ui, sans-serif;
        font-size: 1rem;
        pointer-events: none;
        z-index: 10;
        transition: opacity 0.3s ease;
      }
      .hint-keep {
        opacity: 0;
      }
      .thank-you {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        pointer-events: none;
        z-index: 5;
        text-align: center;
        opacity: 0;
        background: radial-gradient(
          ellipse at center,
          transparent 0%,
          rgba(10, 14, 39, 0.4) 70%,
          rgba(10, 14, 39, 0.75) 100%
        );
      }
      .thank-you h2 {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        font-size: clamp(1.75rem, 5vw, 3rem);
        font-weight: 700;
        color: #fff;
        margin-bottom: 0.75rem;
        text-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
      }
      .thank-you p {
        font-size: clamp(1rem, 2.5vw, 1.35rem);
        color: rgba(255, 255, 255, 0.85);
        font-weight: 500;
      }
      .thank-you-warm {
        margin-top: 0.5rem;
        font-size: clamp(1.05rem, 2.8vw, 1.4rem);
        color: rgba(255, 255, 255, 0.95);
        font-style: italic;
      }
      .thank-you .ugahacks-love {
        margin-top: 1.5rem;
        font-size: clamp(0.9rem, 2vw, 1.1rem);
        color: rgba(255, 255, 255, 0.6);
      }
      .thank-you-signoff {
        margin-top: 1.25rem;
        font-size: clamp(1rem, 2.5vw, 1.2rem);
        color: rgba(255, 255, 255, 0.9);
        font-weight: 600;
      }
      .thank-you-line {
        opacity: 0;
        transform: translateY(12px);
      }
      @keyframes statsTitleGlow {
        0%, 100% { filter: drop-shadow(0 0 20px rgba(186, 12, 47, 0.6)) drop-shadow(0 2px 20px rgba(0,0,0,0.5)); }
        50% { filter: drop-shadow(0 0 32px rgba(186, 12, 47, 0.9)) drop-shadow(0 2px 24px rgba(0,0,0,0.5)); }
      }
      @keyframes statsCardIn {
        from { opacity: 0; transform: translateY(24px) scale(0.96); }
        to { opacity: 1; transform: translateY(0) scale(1); }
      }
      @keyframes statsPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.92; }
      }
      .statistics {
        position: fixed;
        inset: 0;
        z-index: 5;
        opacity: 0;
        overflow-y: auto;
        overflow-x: hidden;
        pointer-events: none;
        background:
          radial-gradient(ellipse 120% 80% at 50% 0%, rgba(186, 12, 47, 0.18) 0%, transparent 45%),
          radial-gradient(ellipse at center, transparent 0%, rgba(10, 14, 39, 0.5) 70%, rgba(10, 14, 39, 0.92) 100%);
      }
      .statistics.visible {
        pointer-events: auto;
      }
      .statistics-inner {
        max-width: 880px;
        margin: 0 auto;
        padding: clamp(3rem, 10vw, 5rem) 1.5rem clamp(4rem, 12vw, 6rem);
        text-align: center;
      }
      .statistics-title {
        font-family: system-ui, -apple-system, sans-serif;
        font-size: clamp(1.85rem, 5vw, 3.25rem);
        font-weight: 800;
        margin-bottom: 0.5rem;
        background: linear-gradient(135deg, #fff 0%, #f0e6e8 40%, #ffd700 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.02em;
      }
      .statistics-subtitle {
        font-family: system-ui, sans-serif;
        font-size: clamp(0.85rem, 2vw, 1rem);
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 1.5rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .statistics-sections {
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }
      .statistics-section {
        text-align: left;
      }
      .statistics-section-title {
        font-family: system-ui, sans-serif;
        font-size: clamp(1rem, 2.2vw, 1.2rem);
        font-weight: 700;
        color: rgba(255, 255, 255, 0.95);
        letter-spacing: 0.06em;
        text-transform: uppercase;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid rgba(255, 255, 255, 0.2);
      }
      .statistics-section-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0.9rem;
      }
      @media (min-width: 560px) {
        .statistics-section-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      .statistics-stat {
        --stat-color: #fff;
        font-family: system-ui, sans-serif;
        font-size: clamp(0.95rem, 2.2vw, 1.2rem);
        color: rgba(255, 255, 255, 0.98);
        font-weight: 600;
        text-align: left;
        padding: 0.9rem 1.1rem;
        padding-left: 1.25rem;
        border-radius: 10px;
        border-left: 4px solid var(--stat-color);
        background: rgba(255, 255, 255, 0.06);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.06);
        backdrop-filter: blur(8px);
        text-shadow: 0 1px 10px rgba(0, 0, 0, 0.4);
      }
      .statistics-stat-number {
        color: var(--stat-color);
        font-weight: 800;
        font-size: 1.12em;
        text-shadow: 0 0 16px rgba(255, 255, 255, 0.2);
      }
      .statistics-signoff {
        margin-top: 2.5rem;
        font-family: system-ui, sans-serif;
        font-size: clamp(1.15rem, 2.5vw, 1.35rem);
        font-weight: 700;
        color: #fff;
        text-shadow: 0 0 24px rgba(186, 12, 47, 0.5);
      }
      .hero {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        pointer-events: none;
        z-index: 3;
        text-align: center;
        transition: opacity 0.5s ease;
      }
      .hero-logo {
        max-width: min(85vw, 520px);
        width: 100%;
        height: auto;
        margin-bottom: 1.5rem;
        filter: drop-shadow(0 4px 24px rgba(0, 0, 0, 0.4));
      }
      .hero-tagline {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        font-size: clamp(1rem, 2.5vw, 1.25rem);
        color: rgba(255, 255, 255, 0.8);
        font-weight: 500;
        max-width: 320px;
      }
    </style>
  </head>
  <body>
    <canvas id="c"></canvas>
    <!-- Official Georgia Athletics G from https://upload.wikimedia.org/wikipedia/commons/8/80/Georgia_Athletics_logo.svg -->
    <svg
      id="uga-g-ref"
      xmlns="http://www.w3.org/2000/svg"
      width="378"
      height="245"
      style="
        position: absolute;
        left: 0;
        top: 0;
        visibility: hidden;
        pointer-events: none;
      "
    >
      <path
        id="uga-g-path"
        fill="none"
        d="M 73.9,44.9 C 115.3,21.7 164,14.3 211,17.3 c 34.3,2.6 68.2,12.4 97.6,30.4 15.9,9.9 30.7,22.4 39.7,39.2 h-83.9 c-19.8,-19.3 -46.3,-32.5 -74.2,-33.2 -20.7,0.4 -41.2,6.5 -58.3,17.9 -12.8,8.5 -23.9,20.4 -28,35.4 -4.3,14.8 0.5,30.7 8.3,43.3 13.4,20.8 37.3,33.3 61.6,35.5 17.3,1.5 34.9,-0.1 51.4,-5.5 18,-5.6 34.3,-18.8 41.8,-36.3 h-111.4 v-33.3 h201.5 c2,-0.4 1.6,2.6 1.9,3.9 0.3,8.6 0.5,17.4 -2.1,25.8 -6.5,23.5 -24.4,42.2 -44.6,55.1 -39.7,25.4 -88,33.9 -134.6,33.4 -25,-1 -50.3,-4.8 -74.1,-13.6 C 82.2,207.3 62,195.4 45.7,179.2 32.6,165.3 21.6,148.5 19.2,129.2 18.3,118.9 18.7,108.3 22.7,98.6 32,74.9 52.4,57.5 73.9,44.9 z"
      />
    </svg>
    <div class="hero" id="hero">
      <img
        class="hero-logo"
        src="https://11.ugahacks.com/Logo-with-byte%201.svg"
        alt="UGAHacks 11"
        width="456"
        height="113"
      />
      <p class="hero-tagline">Scroll down to watch the magic happen</p>
    </div>
    <!-- <p class="hint" id="hint">Scroll down to form the G</p> -->
    <p class="hint hint-keep" id="hint-keep">Keep scrolling</p>
    <div class="thank-you" id="thank-you" aria-hidden="true">
      <h2 class="thank-you-line" data-line="0">
        Thank you for participating in UGAHacks 11
      </h2>
      <p class="thank-you-line thank-you-warm" data-line="1">
        It was wonderful to have you.
      </p>
      <p class="thank-you-line thank-you-warm" data-line="2">
        We had an incredible weekend together.
      </p>
      <p class="thank-you-line" data-line="3">
        February 6‚Äì8, 2026 ¬∑ Miller Learning Center
      </p>
      <p class="thank-you-line ugahacks-love" data-line="4">
        Major League Hacking 2026 Hackathon Season
      </p>
      <p class="thank-you-line thank-you-signoff" data-line="5">
        See you next time. Go Dawgs! üêæ
      </p>
    </div>
    <div class="statistics" id="statistics" aria-hidden="true">
      <div class="statistics-inner">
        <p class="statistics-subtitle">The finale</p>
        <h2 class="statistics-title" id="statistics-title">By the numbers</h2>
        <div class="statistics-sections" id="statistics-sections"></div>
        <p class="statistics-signoff" id="statistics-signoff">See you next year! üêæ</p>
      </div>
    </div>
    <script>
      (function () {
        "use strict";

        // --- Language data (for particles) ---
        var LANGS = [
          { name: "JavaScript", pct: 32, color: "#f7df1e" },
          { name: "Python", pct: 22, color: "#3776ab" },
          { name: "TypeScript", pct: 18, color: "#3178c6" },
          { name: "Java", pct: 15, color: "#007396" },
          { name: "Other", pct: 13, color: "#9b59b6" },
        ];

        // --- Stats by section. Edit numbers and labels; awards are event winners (non-project). ---
        var UGA_RED_HEX = "#BA0C2F";
        var STAT_SECTIONS = [
          {
            title: "Attendance",
            stats: [
              { number: 350, label: "hackers built something amazing", color: UGA_RED_HEX },
              { number: 180, label: "first-time hackers", color: "#f7df1e" },
              { number: 45, label: "mentors & volunteers", color: "#3776ab" },
              { number: 28, label: "schools represented", color: "#3178c6" },
            ],
          },
          {
            title: "Projects & Code",
            stats: [
              { number: 100, label: "projects submitted", color: UGA_RED_HEX },
              { number: 847, label: "thousand lines of code written", color: "#3776ab" },
              { label: "Most used language: " + (LANGS[0] ? LANGS[0].name : "JavaScript"), color: LANGS[0] ? LANGS[0].color : "#f7df1e" },
              { number: 47, label: "hackers who accidentally pushed node_modules to GitHub", color: "#9b59b6" },
            ],
          },
          {
            title: "Around the World",
            stats: [
              { number: 12, label: "countries of origin", color: "#ffd700" },
              { number: 4, label: "continents in one room", color: "#31c6b0" },
              { label: "Furthest hack: Sydney, Australia", color: "#9b59b6" },
            ],
          },
          {
            title: "Events & Awards",
            stats: [
              { label: "Mario Kart Champion: Team Shell", color: "#e74c3c" },
              { label: "Smash Bros Ultimate Winner: KirbyMain42", color: "#3498db" },
              { label: "Trivia Night Champs: The Debuggers", color: "#f1c40f" },
              { label: "Best Swag Collector: 11 stickers, 3 shirts", color: "#9b59b6" },
            ],
          },
          {
            title: "The Vibes",
            stats: [
              { number: 1200, label: "cups of coffee consumed", color: "#6f4e37" },
              { number: 340, label: "slices of pizza", color: "#f39c12" },
              { number: 2, label: "average hours of sleep per night", color: "#e74c3c" },
              { label: "Infinite: memories made", color: "#BA0C2F" },
            ],
          },
        ];

        var N = 600;
        var canvas = document.getElementById("c");
        var ctx = canvas.getContext("2d");
        var particles = [];
        var gPoints = [];
        var cw = 0,
          ch = 0;

        var UGA_RED = { r: 186, g: 12, b: 47 }; // #BA0C2F
        <!-- var UGA_BLACK = { r: 44, g: 42, b: 41 }; // #2C2A29 (from logo path fill) -->

        function clamp(x, lo, hi) {
          return Math.max(lo, Math.min(hi, x));
        }

        function ease(t) {
          return t <= 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
        }
        // Scroll-driven narration: each line has an "in" window; once visible they stay until we leave thank-you.
        var LINE_WINDOWS = [
          { in: [0, 0.14] },
          { in: [0.22, 0.36] },
          { in: [0.44, 0.58] },
          { in: [0.66, 0.78] },
          { in: [0.78, 0.88] },
          { in: [0.86, 1] },
        ];
        function lineNarration(lineIndex, t) {
          var w = LINE_WINDOWS[lineIndex];
          if (!w) return { opacity: 0, y: 12 };
          var inStart = w.in[0],
            inEnd = w.in[1];
          var opacity = 0;
          var y = 12;
          if (t < inStart) {
            opacity = 0;
            y = 12;
          } else if (t < inEnd) {
            var u = (t - inStart) / (inEnd - inStart);
            u = ease(u);
            opacity = u;
            y = 12 - 12 * u;
          } else {
            opacity = 1;
            y = 0;
          }
          return { opacity: opacity, y: y };
        }

        function hexToRgb(hex) {
          var n = parseInt(hex.slice(1), 16);
          return { r: (n >> 16) & 255, g: (n >> 8) & 255, b: n & 255 };
        }
        function lerpColor(a, b, t) {
          return {
            r: Math.round(a.r + (b.r - a.r) * t),
            g: Math.round(a.g + (b.g - a.g) * t),
            b: Math.round(a.b + (b.b - a.b) * t),
          };
        }
        function rgbToCss(rgb) {
          return "rgb(" + rgb.r + "," + rgb.g + "," + rgb.b + ")";
        }

        // Sample points from the official Georgia Athletics G SVG path (378√ó245). Fallback to built G if needed.
        function buildGPoints() {
          var pathEl = document.getElementById("uga-g-path");
          if (pathEl && pathEl.getTotalLength) {
            var total = pathEl.getTotalLength();
            if (total > 0) {
              var out = [];
              var svgCx = 189,
                svgCy = 122.5;
              var scale = 100 / 378;
              for (var i = 0; i < N; i++) {
                var len = (i / (N - 1)) * total;
                var pt = pathEl.getPointAtLength(len);
                out.push({
                  x: 50 + (pt.x - svgCx) * scale,
                  y: 50 + (pt.y - svgCy) * scale,
                });
              }
              return out;
            }
          }
          return buildGPointsFallback();
        }

        function buildGPointsFallback() {
          var cx = 50,
            cy = 50,
            rx = 42,
            ry = 28,
            path = [],
            step = 0.032;
          var gapStart = 0.52,
            gapEnd = 1.22;
          function ovalX(a) {
            return cx + rx * Math.cos(a);
          }
          function ovalY(a) {
            return cy + ry * Math.sin(a);
          }
          for (
            var a = gapEnd;
            a < gapStart + Math.PI * 2 - step * 0.5;
            a += step
          ) {
            path.push({ x: ovalX(a), y: ovalY(a) });
          }
          var barY = 60,
            barRight = 90,
            innerX = 50;
          for (var t = 0; t <= 1; t += 0.025) {
            path.push({
              x: ovalX(gapEnd) + (innerX - ovalX(gapEnd)) * t,
              y: ovalY(gapEnd) + (barY - ovalY(gapEnd)) * t,
            });
          }
          for (var t = 0; t <= 1; t += 0.025) {
            path.push({ x: innerX + (barRight - innerX) * t, y: barY });
          }
          for (var t = 0; t <= 1; t += 0.025) {
            path.push({ x: barRight, y: barY + (50 - barY) * t });
          }
          for (var t = 0; t <= 1; t += 0.025) {
            path.push({
              x: barRight + (ovalX(gapStart) - barRight) * t,
              y: 50 + (ovalY(gapStart) - 50) * t,
            });
          }
          var out = [],
            L = path.length;
          for (var i = 0; i < N; i++) {
            var j = Math.min(Math.floor((i / N) * L), L - 1);
            out.push({ x: path[j].x, y: path[j].y });
          }
          return out;
        }

        function toScreen(x, y) {
          var size = Math.min(cw, ch) * 0.6;
          var scale = size / 100;
          return {
            x: cw / 2 + (x - 50) * scale,
            y: ch / 2 + (y - 50) * scale,
          };
        }

        var vh = function () {
          return window.innerHeight;
        };

        function scrollProgress() {
          var sy = window.scrollY;
          var viewport = vh();
          return clamp(sy / viewport, 0, 1);
        }

        function morphProgress() {
          var sy = window.scrollY;
          var viewport = vh();
          return clamp(sy / viewport, 0, 1);
        }

        function thankYouProgress() {
          var sy = window.scrollY;
          var viewport = vh();
          if (sy <= viewport) return 0;
          return Math.min(1, (sy - viewport) / viewport);
        }

        function statisticsProgress() {
          var sy = window.scrollY;
          var viewport = vh();
          if (sy < 1.5 * viewport) return 0;
          return Math.min(1, (sy - 1.5 * viewport) / (0.5 * viewport));
        }

        function buildStatisticsList() {
          var container = document.getElementById("statistics-sections");
          if (!container || !STAT_SECTIONS.length) return;
          container.innerHTML = "";
          var globalIndex = 0;
          for (var sec = 0; sec < STAT_SECTIONS.length; sec++) {
            var section = STAT_SECTIONS[sec];
            var sectionEl = document.createElement("div");
            sectionEl.className = "statistics-section";
            var titleEl = document.createElement("h3");
            titleEl.className = "statistics-section-title";
            titleEl.textContent = section.title;
            sectionEl.appendChild(titleEl);
            var grid = document.createElement("div");
            grid.className = "statistics-section-grid";
            for (var i = 0; i < section.stats.length; i++) {
              var stat = section.stats[i];
              var card = document.createElement("div");
              card.className = "statistics-stat";
              card.setAttribute("data-index", globalIndex);
              card.style.setProperty("--stat-color", stat.color || "#fff");
              if (stat.number != null) {
                card.innerHTML = '<span class="statistics-stat-number" data-value="' + stat.number + '">0</span><span class="statistics-stat-label"> ' + stat.label + "</span>";
              } else {
                card.innerHTML = '<span class="statistics-stat-label">' + stat.label + "</span>";
              }
              grid.appendChild(card);
              globalIndex++;
            }
            sectionEl.appendChild(grid);
            container.appendChild(sectionEl);
          }
        }

        buildStatisticsList();

        function buildParticles() {
          var total = 0;
          for (var i = 0; i < LANGS.length; i++) total += LANGS[i].pct;
          var pool = [];
          for (var i = 0; i < LANGS.length; i++) {
            var n = Math.round((N * LANGS[i].pct) / total);
            for (var j = 0; j < n; j++) {
              pool.push({ color: LANGS[i].color });
            }
          }
          while (pool.length < N) pool.push({ color: LANGS[0].color });
          for (var i = pool.length - 1; i > 0; i--) {
            var k = Math.floor(Math.random() * (i + 1));
            var tmp = pool[i];
            pool[i] = pool[k];
            pool[k] = tmp;
          }

          particles = [];
          for (var i = 0; i < N; i++) {
            var pt = gPoints[i];
            var screen = toScreen(pt.x, pt.y);
            var startX = Math.random() * cw;
            var startY = Math.random() * ch;
            var ugaColor = UGA_RED;
            particles.push({
              color: pool[i].color,
              rgbStart: hexToRgb(pool[i].color),
              ugaColor: ugaColor,
              startX: startX,
              startY: startY,
              endX: screen.x,
              endY: screen.y,
              phase: Math.random() * Math.PI * 2,
              r: 1.5 + Math.random() * 2,
            });
          }
        }

        function resize() {
          var dpr = Math.min(window.devicePixelRatio || 1, 2);
          cw = window.innerWidth;
          ch = window.innerHeight;
          canvas.width = cw * dpr;
          canvas.height = ch * dpr;
          canvas.style.width = cw + "px";
          canvas.style.height = ch + "px";
          ctx.setTransform(1, 0, 0, 1, 0, 0);
          ctx.scale(dpr, dpr);
          gPoints = buildGPoints();
          if (gPoints.length < N) return;
          buildParticles();
        }

        function loop() {
          var morphT = ease(morphProgress());
          var thankYouAlpha = thankYouProgress();
          var statsProgress = statisticsProgress();
          // Fade thank-you out first (over first 20% of stats zone), then fade statistics in (remaining 80%)
          var thankYouFadeOut = ease(Math.min(1, statsProgress / 0.2));
          var statsFadeIn = ease(Math.max(0, (statsProgress - 0.2) / 0.8));
          var hintEl = document.getElementById("hint");
          var thankYouEl = document.getElementById("thank-you");
          if (thankYouEl) {
            thankYouEl.style.opacity = thankYouAlpha * (1 - thankYouFadeOut);
          }
          var lines = document.querySelectorAll(".thank-you-line");
          for (var l = 0; l < lines.length; l++) {
            var nar = lineNarration(l, thankYouAlpha);
            lines[l].style.opacity = nar.opacity;
            lines[l].style.transform = "translateY(" + nar.y + "px)";
          }
          var statisticsEl = document.getElementById("statistics");
          if (statisticsEl) {
            statisticsEl.style.opacity = statsFadeIn;
            if (statsFadeIn > 0) {
              statisticsEl.classList.add("visible");
              if (statsFadeIn < 0.02) statisticsEl.scrollTop = 0;
            } else {
              statisticsEl.classList.remove("visible");
            }
          }
          var statCards = document.querySelectorAll(".statistics-stat");
          var stagger = 0.022;
          var span = 0.5;
          var firstCardEase = 0;
          for (var s = 0; s < statCards.length; s++) {
            var delay = s * stagger;
            var statT = Math.max(0, Math.min(1, (statsFadeIn - delay) / span));
            var statEase = ease(statT);
            if (s === 0) firstCardEase = statEase;
            statCards[s].style.opacity = statEase;
            statCards[s].style.transform =
              "translateY(" + (16 * (1 - statEase)) + "px) scale(" + (0.96 + 0.04 * statEase) + ")";
            var numEl = statCards[s].querySelector(".statistics-stat-number");
            if (numEl) {
              var val = parseInt(numEl.getAttribute("data-value"), 10) || 0;
              numEl.textContent = Math.round(statEase * val);
            }
          }
          var statisticsTitle = document.getElementById("statistics-title");
          var statisticsSubtitle = document.querySelector(".statistics-subtitle");
          if (statisticsTitle) {
            statisticsTitle.style.opacity = firstCardEase;
            statisticsTitle.style.animation = firstCardEase > 0.3 ? "statsTitleGlow 2.2s ease-in-out infinite" : "none";
          }
          if (statisticsSubtitle) {
            statisticsSubtitle.style.opacity = firstCardEase;
          }
          var sections = document.querySelectorAll(".statistics-section");
          for (var sec = 0; sec < sections.length; sec++) {
            var firstCardInSection = sections[sec].querySelector(".statistics-stat");
            var sectionTitle = sections[sec].querySelector(".statistics-section-title");
            if (sectionTitle && firstCardInSection) {
              sectionTitle.style.opacity = firstCardInSection.style.opacity;
            }
          }
          var statisticsSignoff = document.getElementById("statistics-signoff");
          if (statisticsSignoff) {
            var signoffT = Math.max(0, (statsFadeIn - 0.7) / 0.3);
            statisticsSignoff.style.opacity = ease(signoffT);
            statisticsSignoff.style.animation = signoffT > 0.5 ? "statsPulse 2s ease-in-out infinite" : "none";
          }
          if (hintEl) {
            hintEl.style.opacity =
              morphT < 0.95 && thankYouAlpha < 0.05 ? 1 : 0;
          }
          var hintKeepEl = document.getElementById("hint-keep");
          if (hintKeepEl) {
            hintKeepEl.style.opacity =
              morphT >= 0.95 && thankYouAlpha < 0.9 ? 1 : 0;
          }
          var heroEl = document.getElementById("hero");
          if (heroEl) {
            heroEl.style.opacity =
              morphT < 0.15 ? 1 : morphT > 0.45 ? 0 : 1 - (morphT - 0.15) / 0.3;
          }

          ctx.clearRect(0, 0, cw, ch);
          var time = Date.now() * 0.001;
          var particleAlpha = 0.9 * (1 - 0.5 * thankYouAlpha);

          for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            var drift = 12 * Math.sin(time + p.phase);
            var sx = p.startX + drift;
            var sy = p.startY + drift * 0.7;
            var x = sx + (p.endX - sx) * morphT;
            var y = sy + (p.endY - sy) * morphT;

            var displayRgb = lerpColor(p.rgbStart, p.ugaColor, morphT);
            ctx.globalAlpha = particleAlpha;
            ctx.fillStyle = rgbToCss(displayRgb);
            ctx.beginPath();
            ctx.arc(x, y, p.r, 0, Math.PI * 2);
            ctx.fill();
            ctx.globalAlpha = 1;
          }

          requestAnimationFrame(loop);
        }

        window.addEventListener("resize", resize);
        resize();
        requestAnimationFrame(loop);
      })();
    </script>
  </body>
</html>
